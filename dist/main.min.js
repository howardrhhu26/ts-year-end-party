import json from "./data.json";
!(function () {	
    "use strict";
    new Vue({
        el: "#app",
        data: {
            gas: "",
            id: "",
            persons: {},
            person: {},
            formAction: "https://docs.google.com/forms/u/0/d/e/1FAIpQLSfbk7c-Eo52aqwsZojC9BFVqUUmlSXisnSb_uRxg5E7lh3Utw/formResponse",
            input: { id: "entry.1510419185" },
            loading: !1,
        },
        methods: {
            limitIdLen: function (t) {
                if (t.length > 4) return (this.id = this.id.slice(0, 4));
            },
            submit: function () {
                var t = this;
                if (void 0 !== this.person.name) {
                    var n = ""
                        .concat(this.input.id, "=")
                        .concat(this.person.id, "&")
                        .concat(this.input.name, "=")
                        .concat(this.person.name, "&")
                        .concat(this.input.gender, "=")
                        .concat(this.person.gender, "&")
                        .concat(this.input.phone, "=")
                        .concat(this.person.phone, "&")
                        .concat(this.input.site, "=")
                        .concat(this.person.site, "&")
                        .concat(this.input.msg, "=")
                        .concat(this.person.message || "無");
                    fetch(this.formAction + "?" + n, { method: "POST" }).catch(function (n) {
                        alert("提交成功。"), (t.id = ""), (t.person = {});
                    });
                }
            },
        },
        watch: {
            id: function (t) {
                var n = this;
                if (4 === t.length)
                    if (void 0 === this.persons[this.id]) {
                        this.loading = !0;
						json.forEach(x => { 
							if (x.id == this.id)
								console.log(x.site);
						});
						this.loading = !1;
                    } else 
					{
						this.loading = !1;
						this.person = this.persons[this.id];
					}
            },
        },
    });
})();
